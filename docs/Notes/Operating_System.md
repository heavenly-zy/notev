# Operating System <Badge text="alpha" type="warn"/> <Badge text="2.1.2"/>

## 1 操作系统引论

配置在计算机硬件上的第一层硬件

### 1.1 操作系统的目标和作用

#### 1.1.1 操作系统的目标

-  方便性 避免用户书写机器语言
-  有效性 防止大部分设备处于空闲状态，在操作系统的调度下各部分的协调恰如其分
-  可扩充性 能方便地增添新的功能和模块
-  开放性 按照某些标准开发，以便软硬件的兼容等等

#### 1.1.2 操作系统的作用

-  OS 作为用户与计算机硬件系统之间的接口

   ![OS01](../Images/OS01.png)

-  OS 作为计算机系统资源的管理者

   -  处理器上可执行的指令分为
      -  特权指令
      -  非特权指令
   -  处理器状态划分为
      -  管态（管理态）
      -  目态（用户态）

   > 处理器状态保证了特权指令的正确使用，把 OS 与用户程序区别开来

-  OS 实现了对计算机资源的抽象

#### 1.1.3 推动操作系统发展的主要动力

-  不断提高计算机资源利用率
-  方便用户
-  器件的不断更新换代
-  计算机体系结构的不断发展
-  不断提出新的应用要求

### 1.2 操作系统的发展过程

#### 1.2.1 未配置操作系统的计算机系统

1. 人工操作方式

   人工装填纸带，CPU 大多数时间在等待，浪费了大量的资源

2. 脱机输入/输出（Off-Line I/O）方式

   在手工与 CPU 之间加上了一个磁带，以优化 I/O 与 CPU 速度不匹配的问题

#### 1.2.2 单道批处理系统

-  单道批处理系统（Simple Batch Processing System）的处理过程

   用监督程序来解放装填纸带人员的双手，并进一步解决了 I/O 与 CPU 之间速度不匹配的问题

-  单道批处理系统的特征

   -  单道性 内存中仅有一道程序运行
   -  自动性
   -  顺序性

#### 1.2.3 多道批处理系统

-  多道程序设计的基本概念

   用户提交的作业形成队列，按一定算法将若干作业调入内存

-  多道程序设计的优点

   -  提高 CPU 利用率
   -  提高内存和 I/O 设备利用率
   -  增加系统吞吐量

-  多道程序设计的缺点

   -  平均周转时间长
   -  依然无交互能力

#### 1.2.4 分时系统

-  分时系统产生的动力

   -  人们亟需可以实现**人机交互**的处理机以便调试运行程序
   -  **共享主机**

-  分时系统实现中的关键问题
   -  及时接收 及时接收各个用户终端的输入
   -  及时处理 及时处理用户键入的命令

=> 分时系统，将 CPU 的时间分片，每个作业每次只能运行一个时间片

-  分时系统的特征

   -  多路性
   -  独立性 每个人都好像独占资源
   -  及时性
   -  交互性

#### 1.2.5 实时系统

-  需求

   -  实时控制
   -  实时信息处理

-  实时任务

   -  按任务执行时是否呈现周期性来划分
      -  周期性实时任务
      -  非周期性实时任务
   -  根据对截止时间的要求来划分
      -  硬实时任务
      -  软实时任务

-  实时系统与分时系统特征的比较

   -  多路性
   -  独立性
   -  交互性
   -  及时性
   -  可靠性

#### 1.2.6 微机操作系统的发展

1. 单用户单任务操作系统

   -  CP/M
   -  MS-DOS

2. 单用户多任务操作系统

   各种 Windows

3. 多用户多任务操作系统

   UNIX

   -  Solaris
   -  Linux :heart:

#### 1.2.7 其它操作系统

-  网络操作系统
-  分布式操作系统 可独立也可协同，对用户来说相当于一个操作系统
-  嵌入式操作系统

### 1.3 操作系统的特征

#### 1.3.1 并发性

并行和并发的区别，组原就有提到，并行是真的多处理器处理多数据，并发是利用时分技术实现的，其微观本质上还是串行

为了实现并发，引入了进程的概念，其**作为资源分配的基本单位，可在系统中能独立运行**

为了进一步提高并发程度，在进程内引入了线程，其**作为独立运行和独立调度的基本单位，并不会拥有系统资源，开销就会小很多**

#### 1.3.2 共享性

-  互斥共享技术

   保证各个进程之间不会混淆

-  同时访问方式

   各个进程可以同时访问同一个设备，比如磁盘

#### 1.3.3 虚拟技术

-  时分复用技术
   -  虚拟处理机技术
   -  虚拟设备技术
-  空分复用技术
   -  虚拟磁盘技术 磁盘分区
   -  虚拟存储器技术

#### 1.3.4 异步性

各个进程停停走走……

### 1.4 操作系统的五大功能

#### 1.4.1 处理机管理

-  进程控制
-  进程同步
-  进程通信
-  调度

#### 1.4.2 存储器管理功能

-  内存分配
-  内存保护
-  地址映射
-  内存扩充

#### 1.4.3 设备管理功能

-  缓存管理
-  设备分配
-  设备处理

#### 1.4.4 文件管理功能

-  文件存储空间的管理
-  目录管理
-  文件的读/写管理和保护

#### 1.4.5 操作系统与用户之间的接口

-  用户接口
-  程序接口

#### 1.4.6 现代操作系统的新功能

-  系统安全
-  网络的功能和服务
-  支持多媒体

### 1.5 OS 结构设计

#### 1.5.1 传统的操作系统结构

1. 无结构操作系统
2. 模块化结构操作系统 分解成一个一个模块
3. 分层式结构 OS 有序分层

#### 1.5.2 客户/服务器（C/S）模式简介

便于集中管理，但会有瓶颈问题和不可靠性

#### 1.5.3 面向对象的程序设计（OOP）简介

#### 1.5.4 微内核 OS 结构

- 足够小的内核

   将操作系统中最基本的部分放入微内核，其他部分放在外面作为服务器

- 基于 C/S 模式

   ![OS02](../Images/OS02.png)

- 应用”机制与策略分离“原理
- 采用面向对象技术

## 2 进程管理

### 2.1 进程的基本概念

#### 2.1.1 程序的顺序执行及其特征

- 程序的顺序执行是指程序可以保证其按照其顺序执行

- 特征
   - 顺序性
   - 封闭性
   - 可再现性

#### 2.1.2 程序的并发执行及其特征

- 多道程序并发执行

- 特征
   - 间断性
   - 失去封闭性
   - 不可再现性 （资源共享，可能使用时被其他程序所修改）

#### 2.1.3 进程的特征与状态

- 定义
   - 进程是程序的一次执行
   - 进程是一个程序及其数据在处理机上顺序执行时所发生的活动
   - 进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位

- 特征
   - 结构性
   - 动态性
   - 并发性
   - 独立性
   - 异步性

# Amendant Record

1. 190311 #1 Finished

# Reference

1. 杨志豪老师课程及其[配套课件](http://faculty.dlut.edu.cn/zhyang_CS/zh_CN/jxzy/749840/content/1641.htm)
2. 《计算机操作系统》 汤小丹 梁红兵 哲凤屏 汤子瀛
